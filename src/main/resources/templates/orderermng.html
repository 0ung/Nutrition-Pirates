<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/default}">
<meta charset="UTF-8">
<!-- 사용자 CSS 추가 -->
<th:block layout:fragment="css">
    <style>
        .jw-row {
            width: 1500px;
            height: 100%;
            padding: 10px;
            margin: 10px;
        }

        .jw-div1 {
            padding: 10px;
            background: rgb(255, 250, 235);
            box-shadow: 0px 187px 75px rgba(0, 0, 0, 0.01), 0px 105px 63px rgba(0, 0, 0, 0.05), 0px 47px 47px rgba(0, 0, 0, 0.09), 0px 12px 26px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);
            border-radius: 30px; /* 모서리를 둥글게 함 */
            width: 49.5%;
            height: 110%;
            float: left;

        }

        .jw-div2 {
            padding: 10px;
            background: rgb(255, 250, 235);
            box-shadow: 0px 187px 75px rgba(0, 0, 0, 0.01), 0px 105px 63px rgba(0, 0, 0, 0.05), 0px 47px 47px rgba(0, 0, 0, 0.09), 0px 12px 26px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);
            border-radius: 30px; /* 모서리를 둥글게 함 */
            width: 49.5%;
            height: 110%;
            float: right;

        }

        .page-link {
            color: rgba(6, 59, 56, 0.75);
            background-color: #fff;
            border: 1px solid #ccc;
        }

        .page-item.active .page-link {
            z-index: 1;
            color: rgba(6, 59, 56, 0.75);
            font-weight: bold;
            background-color: #f1f1f1;
            border-color: #ccc;

        }

        .page-link:focus, .page-link:hover {
            color: rgba(6, 59, 56, 0.75);
            font-weight: bold;
            background-color: #c3dfd2;
            border-color: #ccc;
        }

        #pagination {
            bottom: 0;
            text-align: center; /* 가운데 정렬 */
            padding: 10px 0;
        }

        #div1 {

        }
    </style>
    <link th:href="@{/css/jw.css}" type="text/css" rel="stylesheet" id="jw.css"/>
    <link th:href="@{/css/niceForm.css}" type="text/css" rel="stylesheet" id="niceForm.css"/>
</th:block>

<!-- 사용자 스크립트 추가 -->
<th:block layout:fragment="script">
   <!-- <script th:inline="javascript">
        function handleButtonClick(button) {
            console.log('Button clicked'); // 콘솔 로그 추가
            button.innerHTML = '입고됨';
            button.disabled = true;
        }

        fetch(url + 'api/calculate')
            console.log(url + 'api/calculate')
            .then(response => {
                if (!response.ok) {
                    throw new Error('네트워크 응답이 정상적이지 않습니다');
                }
                return response.json(); // JSON 형식으로 데이터를 파싱하여 반환
            })
            .then(data => {
                // 여기서 받아온 데이터를 모델로 사용하거나 필요한 처리를 수행합니다
                const { partnerName, product, remainingQuantity, expectedImportDate } = data;

                console.log('받아온 데이터:');
                console.log('발주처:', partnerName);
                console.log('원자재명:', product);
                console.log('수량:', remainingQuantity);
                console.log('예상 납기일:', expectedImportDate);

                // 예시: HTML 요소에 데이터를 채워 넣는 등의 작업을 수행할 수 있습니다
                const tableBody = document.querySelector('#orderTable tbody');
                const row = `
            <tr>
                <td>${partnerName}</td>
                <td>${product}</td>
                <td>${remainingQuantity}</td>
                <td>${expectedImportDate}</td>
            </tr>
        `;
                tableBody.insertAdjacentHTML('beforeend', row);
            })
            .catch(error => {
                console.error('데이터를 가져오는 중 오류 발생:', error);
            });
    </script>-->
</th:block>


<div layout:fragment="content">
    <div id="main-content">
        <div class="main-container" id="main-container">
            <div class="jw-row">
                <div class="jw-div1">
                    <div class="group">
                        <label class="main-label">원자재 발주 관리
                            <span style="margin-left: 45%; width: 100px">
                                <input type="text" id="search" placeholder="Search..."/>
                            </span>
                        </label>
                        <div class="empty-container">
                            <table class="jw-table">
                                <thead>
                                <tr>
                                    <th scope="col">번호</th>
                                    <th scope="col">공정</th>
                                    <th scope="col">LOT</th>
                                    <th scope="col">시작시간</th>
                                    <th scope="col">종료시간</th>
                                    <th scope="col">입고확인</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>A2</td>
                                    <td>20240608A1</td>
                                    <td>2024.06.7 13:00:05</td>
                                    <td>2024.06.7 13:00:05</td>
                                    <td>
                                        <button class="jw-button2" onclick="handleButtonClick(this)">입고버튼</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>A2</td>
                                    <td>20240608A1</td>
                                    <td>2024.06.7 13:00:05</td>
                                    <td>2024.06.7 13:00:05</td>
                                    <td>
                                        <button class="jw-button2" onclick="handleButtonClick(this)">입고버튼</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <div style="margin-left: 73%">
                                <div class="empty-container">
                                    <button class="jw-button" onclick="downloadExcel()">엑셀 다운</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="pagination">
                        <nav aria-label="...">
                            <ul class="pagination">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">&laquo;</a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">&raquo;</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
                <div class="jw-div2">
                    <div class="group">
                        <label class="main-label">발주계획서
                            <span style="margin-left: 75%; width: 10%">
                                 <button type="button" class="jw-button" data-bs-toggle="modal"
                                         data-bs-target="#orderermng">
                                    발주 등록</button>
                            </span>
                        </label>
                        <div class="empty-container">
                            <table class="jw-table">
                                <thead>
                                <tr>
                                    <th scope="col">번호</th>
                                    <th scope="col">발주처</th>
                                    <th scope="col">원자재명</th>
                                    <th scope="col">수량</th>
                                    <th scope="col">예상납기일</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>Mark</td>
                                    <td>양배추</td>
                                    <td>2000 kg</td>
                                    <td>2024-06-19</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Jacob</td>
                                    <td>벌꿀</td>
                                    <td>10 L</td>
                                    <td>2024-06-19</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>Larry</td>
                                    <td>포장지</td>
                                    <td>15000 ea</td>
                                    <td>2024-06-19</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="empty-container"></div>
                    </div>


                    <!--모달창-->
                    <div class="modal" id="orderermng" tabindex="-1">
                        <div class="modal-dialog">

                            <div class="modal-content"
                                 style="background-color: transparent; border-color: transparent; padding: 10px; color:rgba(6, 59, 56, 0.75);">
                                <div class="chart-card" style="padding: 20px;">
                                    <div class="modal-header">
                                        <h5 class="modal-title">발주 등록</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">

                                        <div class="nice-form-group">
                                            <label>거래처</label>
                                            <select>
                                                <option>에이농장</option>
                                                <option>OO농협</option>
                                                <option>OO포장</option>
                                            </select>
                                        </div>

                                        <div class="nice-form-group">
                                            <label>제품명</label>
                                            <select>
                                                <option>양배추</option>
                                                <option>흑마늘</option>
                                                <option>벌꿀</option>
                                                <option>석류(농축액)</option>
                                                <option>매실(농축액)</option>
                                                <option>콜라겐</option>
                                                <option>포장지</option>
                                                <option>BOX</option>
                                            </select>
                                        </div>

                                        <div class="nice-form-group">
                                            <label>수량</label>
                                            <input type="number" placeholder="수량을 입력해주세요"/>
                                        </div>

                                        <div class="modal-footer" style="margin-top: 20px;">
                                            <button type="button" class="btn btn-primary">저장</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>


</html>